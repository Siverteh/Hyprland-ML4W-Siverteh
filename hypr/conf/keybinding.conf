# -----------------------------------------------------
# Key bindings
# name: "Default"
# -----------------------------------------------------

# SUPER KEY
$mainMod = SUPER
$HYPRSCRIPTS = ~/.config/hypr/scripts
$SCRIPTS = ~/.config/ml4w/scripts

# =====================================================
# ASUS Zenbook 14 OLED - With OSD Indicators
# =====================================================

# -------------------- Audio Controls (with OSD) --------------------
# F1 = Mute/Unmute
bind = , XF86AudioMute, exec, swayosd-client --output-volume mute-toggle

# F2 = Volume Down
bind = , XF86AudioLowerVolume, exec, swayosd-client --output-volume lower

# F3 = Volume Up  
bind = , XF86AudioRaiseVolume, exec, swayosd-client --output-volume raise

# -------------------- Screen Brightness (with OSD) --------------------
# F5 = Brightness Down
bind = , XF86MonBrightnessDown, exec, swayosd-client --brightness lower

# F6 = Brightness Up
bind = , XF86MonBrightnessUp, exec, swayosd-client --brightness raise

# -------------------- Keyboard Backlight (with OSD) --------------------
# F4 = Keyboard brightness up
bind = , XF86KbdBrightnessUp, exec, swayosd-client --brightness raise --device kbd_backlight
bind = , XF86KbdBrightnessDown, exec, swayosd-client --brightness lower --device kbd_backlight

# -------------------- Emoji picker --------------------

# Emoji picker (works on both laptop F8 and external keyboard F7)
bind = SUPER, period, exec, ~/.config/ml4w/settings/emojipicker.sh

# -------------------- Microphone Controls (with OSD) --------------------
# F9 = Mute/Unmute Microphone
bind = , XF86AudioMicMute, exec, swayosd-client --input-volume mute-toggle

# -------------------- Screenshot Tools --------------------
bind = , Print, exec, grim -g "$(slurp)" - | wl-copy && notify-send "Screenshot" "Copied to clipboard"
bind = SUPER, Print, exec, grim ~/Pictures/Screenshots/screenshot_$(date +%Y%m%d_%H%M%S).png && notify-send "Screenshot" "Saved to Pictures/Screenshots"

# =====================================================
# Mouse functionality
# =====================================================

bindm = SUPER, mouse:272, movewindow                                                     # Move window with the mouse
bindm = SUPER, mouse:273, resizewindow                                                   # Resize window with the mouse

# =====================================================
# WORKSPACE NAVIGATION (Most Important - No Modifiers!)
# =====================================================
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER, 9, workspace, 9
bind = SUPER, 0, workspace, 10

# Workspace cycling
bind = SUPER, TAB, workspace, m+1
bind = SUPER SHIFT, TAB, workspace, m-1

# Mouse wheel workspace cycling
bind = SUPER, mouse_down, workspace, e+1
bind = SUPER, mouse_up, workspace, e-1

# Move windows to workspaces
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER SHIFT, 6, movetoworkspace, 6
bind = SUPER SHIFT, 7, movetoworkspace, 7
bind = SUPER SHIFT, 8, movetoworkspace, 8
bind = SUPER SHIFT, 9, movetoworkspace, 9
bind = SUPER SHIFT, 0, movetoworkspace, 10

# Move to adjacent workspace
bind = SUPER CTRL SHIFT, left, movetoworkspace, r-1
bind = SUPER CTRL SHIFT, right, movetoworkspace, r+1

# =====================================================
# WINDOW MANAGEMENT (SUPER + Letter - Fast Access)
# =====================================================

# Close & Kill
bind = SUPER, Q, killactive
bind = SUPER SHIFT, Q, exec, hyprctl kill

# Fullscreen modes
bind = SUPER, F, fullscreen, 0
bind = SUPER, M, fullscreen, 1

# Window minimize/restore
bind = SUPER, H, exec, ~/.config/hypr/scripts/window-minimize.sh hide
bind = SUPER SHIFT, H, exec, ~/.config/hypr/scripts/window-minimize.sh restore-last
bind = SUPER ALT, H, exec, ~/.config/hypr/scripts/window-minimize.sh restore-current

# Reload kanshi configuration
bind = SUPER ALT, K, exec, killall kanshi && sleep 0.5 && kanshi &

# Window states
bind = SUPER, T, togglefloating
bind = SUPER, P, pin
bind = SUPER SHIFT, P, pseudo

# Window groups
bind = SUPER, G, togglegroup
bind = SUPER, bracketleft, changegroupactive, b
bind = SUPER, bracketright, changegroupactive, f

# Split toggle
bind = SUPER, J, togglesplit

# Resize mode
bind = SUPER, R, submap, resize
submap = resize
binde = , right, resizeactive, 30 0
binde = , left, resizeactive, -30 0
binde = , up, resizeactive, 0 -30
binde = , down, resizeactive, 0 30
bind = , escape, submap, reset
bind = , return, submap, reset
bind = SUPER, R, submap, reset
submap = reset

# =====================================================
# WINDOW FOCUS & MOVEMENT (Arrow Keys)
# =====================================================

# Focus windows
bind = SUPER, left, movefocus, l
bind = SUPER, right, movefocus, r
bind = SUPER, up, movefocus, u
bind = SUPER, down, movefocus, d

# Move windows
bind = SUPER SHIFT, left, movewindow, l
bind = SUPER SHIFT, right, movewindow, r
bind = SUPER SHIFT, up, movewindow, u
bind = SUPER SHIFT, down, movewindow, d

# Resize windows
binde = SUPER ALT, right, resizeactive, 30 0
binde = SUPER ALT, left, resizeactive, -30 0
binde = SUPER ALT, up, resizeactive, 0 -30
binde = SUPER ALT, down, resizeactive, 0 30

# =====================================================
# OPEN APPLICATIONS (SUPER + SHIFT + Letter)
# =====================================================
bind = SUPER SHIFT, T, exec, kitty
bind = SUPER SHIFT, B, exec, google-chrome-stable
bind = SUPER SHIFT, C, exec, code
bind = SUPER SHIFT, V, exec, cursor
bind = SUPER SHIFT, D, exec, discord
bind = SUPER SHIFT, S, exec, spotify
bind = SUPER SHIFT, M, exec, flatpak run io.missioncenter.MissionCenter
bind = SUPER SHIFT, F, exec, ~/.config/ml4w/settings/filemanager.sh
# =====================================================
# LAUNCHERS & UTILITIES
# =====================================================

# App launcher (rofi)
bind = SUPER, A, exec, rofi -show drun

# Window picker
bind = SUPER, D, exec, rofi -show window

# Scratchpad
bind = SUPER, grave, togglespecialworkspace
bind = SUPER SHIFT, grave, movetoworkspace, special

# Clipboard manager
bind = SUPER, V, exec, cliphist list | rofi -dmenu | cliphist decode | wl-copy

# =====================================================
# SYSTEM CONTROLS
# =====================================================
bind = SUPER, X, exec, wlogout
bind = SUPER, ESCAPE, exec, hyprlock
bind = SUPER SHIFT, R, exec, hyprctl reload
# bind = SUPER SHIFT, E, exit

# =====================================================
# UTILITIES & TOOLS
# =====================================================
bind = SUPER, W, exec, waypaper
bind = SUPER, Z, exec, ~/.config/hypr/scripts/waybar/toggle-bars.sh
bind = SUPER ALT, Z, exec, ~/.config/hypr/scripts/waybar/toggle-bottombar.sh
bind = SUPER SHIFT, Z, exec, ~/.config/hypr/scripts/waybar/toggle-topbar.sh
bind = SUPER, O, exec, ~/.config/hypr/scripts/monitor-toggle.sh

# =====================================================
# CLASSIC ALT+TAB
# =====================================================
bind = ALT, TAB, cyclenext
bind = ALT SHIFT, TAB, cyclenext, prev

# =====================================================
# SUPER COMMANDS (Multi-Workspace Setups)
# =====================================================
bind = SUPER ALT, C, exec, ~/.config/hypr/scripts/coding-setup.sh
